name: zpi2
version: 1.0.0
description: zpi2 board spec
components:
  mcp:
    type: gobot.adapter.firmata
    config:
      serialport: /dev/ttyS3

  led0:
    type: gobot.gpio.led
    inject:
      gpio:
        type: ref
        id: mcp
    config:
      pin: '13'

  servos_en:
    type: gobot.gpio.pin
    after:
      - arms
      - head
    inject:
      gpio:
        type: ref
        id: mcp
    config:
      pin: '14'
      value: true

  motors:
    components:
      left:
        type: gobot.gpio.motor
        inject:
          gpio:
            type: ref
            id: /mcp
        config:
          pin: '10'
          dir-pin: '16'
      right:
        type: gobot.gpio.motor
        inject:
          gpio:
            type: ref
            id: /mcp
        config:
          pin: '9'
          dir-pin: '15'

  arms:
    components:
      right:
        type: gobot.i2c.servo.adafruit
        inject:
          i2c:
            type: ref
            id: /mcp
        config:
          channel: 4
          frequency: 50
          pulse-min: 125
          pulse-max: 485
      left:
        type: gobot.i2c.servo.adafruit
        inject:
          i2c:
            type: ref
            id: /mcp
        config:
          channel: 5
          frequency: 50
          pulse-min: 180
          pulse-max: 460
          reverse: true

  head:
    components:
      pan:
        type: gobot.i2c.servo.adafruit
        inject:
          i2c:
            type: ref
            id: /mcp
        config:
          channel: 6
          frequency: 50
          pulse-min: 125
          pulse-max: 485
      tilt:
        type: gobot.i2c.servo.adafruit
        inject:
          i2c:
            type: ref
            id: /mcp
        config:
          channel: 7
          frequency: 50
          pulse-min: 180
          pulse-max: 460
